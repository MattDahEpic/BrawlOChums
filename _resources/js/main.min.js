window.onload=function(){""!=window.location.hash&&(document.getElementById("base-gameCode").value=window.location.hash.split("#")[1]);history.pushState(null,"Brawl o' Chums",location.href.split("#")[0].toUpperCase())};window.onhashchange=function(){""!=window.location.hash&&(document.getElementById("base-gameCode").value=window.location.hash.split("#")[1]);history.pushState(null,"Brawl o' Chums",location.href.split("#")[0].toUpperCase())};var gameCode,playerName;
function DoJoinGame(){gameCode=document.getElementById("base-gameCode").value.toUpperCase();playerName=document.getElementById("base-playerName").value;var b=new WebSocket("ws://localhost:36245");b.onopen=function(a){console.log("Connection Established!");b.send('{"type":"client","code":"'+gameCode+'","name":"'+playerName+'"}')};b.onmessage=function(a){console.log(a.data);JSON.parse(a.data).joingame&&(document.getElementById("base-codeEntry").style.display="none")};b.onclose=function(a){console.log("Connection lost! ("+
a.code+")");switch(a.code){case 4001:document.getElementById("error-nogamecode").style.display="initial";break;default:document.getElementById("error-connection").style.display="initial"}}};
