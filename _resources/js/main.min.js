window.onload=function(){""!=window.location.hash&&(document.getElementById("base-gameCode").value=window.location.hash.split("#")[1]);history.pushState(null,"Brawl o' Chums",location.href.split("#")[0].toUpperCase())};window.onhashchange=function(){""!=window.location.hash&&(document.getElementById("base-gameCode").value=window.location.hash.split("#")[1]);history.pushState(null,"Brawl o' Chums",location.href.split("#")[0].toUpperCase())};var gameCode,playerName,identifier;
function DoJoinGame(){document.getElementById("base-submit").isDisabled=!0;gameCode=document.getElementById("base-gameCode").value.toUpperCase();if(""===gameCode)document.getElementById("error-nogamecode").style.display="initial";else if(playerName=document.getElementById("base-playerName").value,""!==playerName){var b=new WebSocket("ws://localhost:36245");b.onopen=function(a){console.log("Connection Established!");b.send('{"type":"client","code":"'+gameCode+'","name":"'+playerName+'"'+(null!==getCookie("boc-identifier")?
',"identifier":"'+getCookie("boc-indentifier")+'"':"")+"}")};b.onmessage=function(a){console.log(a.data);a=JSON.parse(a.data);if(a.joingame){var b=new Date;b.setTime(b.getTime()+18E5);identifier=a.identifier;document.cookie="boc-identifier="+a.identifier+"; expires="+b.toUTCString()+"; path=/";document.getElementById("base-codeEntry").style.display="none";document.getElementById("other-lobby").style.display="initial"}};b.onclose=function(a){console.log("Connection lost! ("+a.code+")");switch(a.code){case 4001:document.getElementById("error-nogamecode").style.display=
"initial";break;default:document.getElementById("error-connection").style.display="initial"}}}};
